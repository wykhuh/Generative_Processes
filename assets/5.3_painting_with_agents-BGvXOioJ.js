import{p as c}from"./p5.min-BSfcF2sv.js";import{G as W,r as _}from"./sketch_utils-Cd7mJY-m.js";const A=e=>{let u=[],v=["#8ecae6","#219ebc","#023047","#ffb703","#fb8500"],d={redraw_bg:!1,damping:1,seek:0,twitch:.3,separate:1.5,cohesion:1,align:1,reset:F},a,s=!1;e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight),a=new W,a.add(d,"redraw_bg"),a.add(d,"damping",.8,1),a.add(d,"seek",0,2,.1),a.add(d,"twitch",0,2),a.add(d,"separate",0,2),a.add(d,"cohesion",0,2),a.add(d,"align",0,2),a.add(d,"reset"),a.close(),e.background(255)},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight)},e.keyPressed=()=>{e.key==" "&&(s==!1?(e.noLoop(),s=!0):(e.loop(),s=!1)),e.key=="s"&&e.save("drawing.jpg")},e.draw=()=>{d.redraw_bg&&e.background(255),u.length<125&&u.push(b());let o=new c.Vector(e.mouseX,e.mouseY);for(let t of u)w(t,o,.5,d.seek),S(t,d.twitch),g(t,u,d.separate),C(t,u,d.align),z(t,u,d.cohesion),x(t),y(t),k(t)};function b(){return{pos:new c.Vector(e.random(e.width),e.random(e.height)),vel:new c.Vector(e.random(-1,1),e.random(-1,1)),acc:new c.Vector,maxSpeed:e.random(2,6),maxForce:e.random(.05,.2),color:e.random(v),id:e.frameCount}}function k(o){e.rectMode(e.CENTER),e.stroke(o.color);let t=e.sin((o.id+e.frameCount)*.01),r=e.map(t,-1,1,1,15);e.strokeWeight(r),e.push(),e.translate(o.pos.x,o.pos.y),e.rotate(o.vel.heading()),e.line(-20,0,20,0),e.pop()}function x(o){o.vel.add(o.acc),o.vel.mult(d.damping),o.pos.add(o.vel),o.acc.mult(0)}function y(o){o.pos.x<-100&&(o.pos.x=e.width+100),o.pos.y<-100&&(o.pos.y=e.height+100),o.pos.x>e.width+100&&(o.pos.x=-100),o.pos.y>e.height+100&&(o.pos.y=-100)}function V(o,t,r=1){t.mult(r),o.acc.add(t)}function w(o,t,r=1){let l=c.Vector.sub(t,o.pos);l.normalize(),l.mult(o.maxSpeed),m(o,l,r)}function m(o,t,r=1){let l=c.Vector.sub(t,o.vel);l.limit(o.maxForce),V(o,l,r)}function g(o,t,r=1){let l=40,i=new c.Vector,n=0;for(let p of t){let f=o.pos.dist(p.pos);if(f>0&&f<l){let h=c.Vector.sub(o.pos,p.pos);h.normalize(),h.div(f),i.add(h),n++}}n>0&&(i.div(n),i.setMag(o.maxSpeed),m(o,i,r))}function C(o,t,r=1){let l=50,i=new c.Vector,n=0;for(let p of t){let f=o.pos.dist(p.pos);f>0&&f<l&&(i.add(p.vel),n++)}n>0&&(i.div(n),i.normalize(),i.mult(o.maxSpeed),m(o,i,r))}function z(o,t,r=1){let l=50,i=new c.Vector,n=0;for(let p of t){let f=o.pos.dist(p.pos);f>0&&f<l&&(i.add(p.pos),n++)}n>0&&(i.div(n),w(o,i,r))}function S(o,t=1,r=e.PI/2,l=.01){let i=o.vel.copy(),n=e.noise((o.pos.x+e.frameCount)*l),p=e.map(n,0,1,-r,r);i.rotate(p),m(o,i,t)}function F(){e.background(255),u=[],_(a)}};new c(A);
