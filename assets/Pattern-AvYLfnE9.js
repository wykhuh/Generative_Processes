import{L as r}from"./Loop-BIzYltV2.js";import{b as d,q as p,o,n as u}from"./index-BGeJOtze.js";function*f(e){let t=0;for(;t<e.length;)t=a(t,e),yield e[t],t++}function*g(e){let t=e.length-1;for(;t>=0;)t=a(t,e),yield e[t],t--}function*i(e,t){for(;;)yield*t(e)}function a(e,t){return p(e,0,t.length-1)}function*s(e,t){let n=t?0:e.length-1;for(;;)n=a(n,e),yield e[n],t?(n++,n>=e.length-1&&(t=!1)):(n--,n<=0&&(t=!0))}function*m(e){let t=0,n=0;for(;t<e.length;)t=a(t,e),yield e[t],n++,t+=n%2?2:-1}function*y(e){let t=e.length-1,n=0;for(;t>=0;)t=a(t,e),yield e[t],n++,t+=n%2?-2:1}function*w(e){for(;;){const t=Math.floor(Math.random()*e.length);yield e[t]}}function*x(e){const t=[];for(let n=0;n<e.length;n++)t.push(n);for(;t.length>0;){const n=t.splice(Math.floor(t.length*Math.random()),1),c=a(n[0],e);yield e[c]}}function*_(e){let t=Math.floor(Math.random()*e.length);for(;;)t===0?t++:t===e.length-1||Math.random()<.5?t--:t++,yield e[t]}function*h(e,t="up",n=0){switch(d(e.length>0,"The array must have more than one value in it"),t){case"up":yield*i(e,f);case"down":yield*i(e,g);case"upDown":yield*s(e,!0);case"downUp":yield*s(e,!1);case"alternateUp":yield*i(e,m);case"alternateDown":yield*i(e,y);case"random":yield*w(e);case"randomOnce":yield*i(e,x);case"randomWalk":yield*_(e)}}class l extends r{constructor(){super(o(l.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=o(l.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=h(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(r.getDefaults(),{pattern:"up",values:[],callback:u})}_tick(t){const n=this._pattern.next();this._value=n.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=h(this._values,this._type)}}export{l as P};
