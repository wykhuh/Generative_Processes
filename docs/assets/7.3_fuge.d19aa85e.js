import{p as t,i as e,T as s,S as n,P as i,d as r}from"./vendor.abe8152f.js";new t((t=>{let o,a,l,h,p=!1,c=[0,2,4,6];t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight),o=e.get("C4 major").notes},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)},t.draw=()=>{if(p){t.background(0,25);let e=t.height/20;t.fill(255),t.noStroke(),t.textAlign(t.CENTER,t.CENTER),t.textSize(e),t.translate(t.width/2,t.height/2);for(let s=0;s<o.length;s++){let n=t.map(s,0,o.length,-t.PI/2,t.TWO_PI-t.PI/2),i=t.height/3,p=t.cos(n)*i,c=t.sin(n)*i,u=r.pitchClass(o[s]);u==r.pitchClass(h.currentNote)&&(t.stroke(0,128,255),t.line(p,c,0,0),t.fill(0),t.circle(p,c,3*e)),u==r.pitchClass(l.currentNote)&&(t.stroke(128,255,0),t.line(p,c,0,0),t.fill(0),t.circle(p,c,2.5*e)),u==r.pitchClass(a.currentNote)&&(t.stroke(255),t.line(p,c,0,0),t.fill(0),t.circle(p,c,2*e)),t.noStroke(),t.fill(255),t.text(u,p,c)}t.text(a.currentNote,0,0)}else t.background(0),t.fill(255),t.noStroke(),t.textAlign(t.CENTER),t.text("Click to start sound",t.width/2,t.height/2)},t.mousePressed=()=>{p||(p=!0,a=new u({}),l=new u({transpose:4,noteDuration:"8n",tempo:"8n."}),h=new u({transpose:-7,noteDuration:"1n",tempo:"1n"}),s.start())},t.keyPressed=()=>{c=c.reverse()};class u{constructor({transpose:e=0,noteDuration:s="8n",tempo:a="8n",patternType:l="up"}){this.noteDuration=s,this.tempo=a,this.patternType=l,this.transpose=e,this.synth=new n,this.synth.toDestination(),this.synth.volume.value=-10,this.pattern=new i(((e,s)=>{let n=function(e,s){let n=s.length;var i;let o=s[(e%(i=n)+i)%i],a=r.octave(s[0])+t.floor(e/n);return r.pitchClass(o)+a}(c[s]+this.transpose,o);this.synth.triggerAttackRelease(n,this.noteDuration,e),this.currentNote=n}),Array.from(c.keys()),this.patternType),this.pattern.interval=this.tempo,this.pattern.start()}}}));
