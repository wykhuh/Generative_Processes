import{p as t,i as e,T as s,S as n,P as i,d as r}from"./vendor.abe8152f.js";new t((t=>{let o,a,h=!1,p=[0,2,4,6];t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight),o=e.get("C4 major").notes},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)},t.draw=()=>{t.background(0),h?(t.fill(255),t.noStroke(),t.textAlign(t.CENTER,t.CENTER),t.textSize(100),t.text(a.currentNote,t.width/2,t.height/2)):(t.fill(255),t.noStroke(),t.textAlign(t.CENTER),t.text("Click to start sound",t.width/2,t.height/2))},t.mousePressed=()=>{h||(h=!0,a=new l({transpose:-7,tempo:"2n"}),s.start())},t.keyPressed=()=>{p=p.reverse()};class l{constructor({transpose:e=0,noteDuration:s="8n",tempo:a="4n",patternType:h="up"}){this.noteDuration=s,this.tempo=a,this.patternType=h,this.transpose=e,this.synth=new n,this.synth.toDestination(),this.synth.volume.value=-10,this.pattern=new i(((e,s)=>{let n=function(e,s){let n=s.length;var i;let o=s[(e%(i=n)+i)%i],a=r.octave(s[0])+t.floor(e/n);return r.pitchClass(o)+a}(p[s]+this.transpose,o);this.synth.triggerAttackRelease(n,this.noteDuration,e),this.currentNote=n}),Array.from(p.keys()),this.patternType),this.pattern.interval=this.tempo,this.pattern.start()}}}));
